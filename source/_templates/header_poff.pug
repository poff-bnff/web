header
    //- nav.lang-menu
    //-     each p, locale in self.otherLocalePaths
    //-         a(href=(p !== '/' ? p + '/' : '/'))= locale.toUpperCase()
    .logo
        //- Defining locale path for multilingual support
        - var lang_path = self.locale === self.defaultLocale ? '' : `${self.locale}/`
        a(href=`/${lang_path}`)
            img.logo_img(alt='PÖFF' data-src='/assets/img/static/poff24_logo_dark4_o.svg' src='/assets/img/static/poff24_logo_dark4_o.svg')
    input#main_menu_toggle.main_menu_toggle(type='checkbox')

    - var articleMenuItemDomain = 'poffi_article'

    //- nav.user_menu.dropdown
    //-             a= self.label.menu.mainUserMenu
    //-                 ul.ul_kaks
    //-                     li#logIn(style={cursor: 'pointer', display: 'none'})
    //-                         a(onclick = 'saveUrl()' href=`/${lang_path}login`)= self.label.menu.mainLogin
    //-                     li#signUp(style={cursor: 'pointer', display: 'none'})
    //-                         a(onclick = 'saveUrl()' href=`/${lang_path}signup`)= self.label.menu.mainSignup
    //-                     li#logInName.dark_1(style={display: 'none'})
    //-                         a#tervitus(onclick = 'loadUserProfileH()')= self.label.menu.mainGreeting
    //-                     li#userProfile(style={cursor: 'pointer', display: 'none'})
    //-                         a(onclick = 'loadUserProfileH(), saveUrl()', href=`/${lang_path}userprofile`)= self.label.menu.mainProfile
    //-                     li#myFavouriteFilms(style={cursor: 'pointer'})
    //-                         a(href=`/${lang_path}favourite` onclick = 'loadFavouriteFilms()')= self.label.menu.mainShortlist
    //-                     li#myPasses(style={cursor: 'pointer'} )
    //-                         a(href=`/${lang_path}minupoff`)= self.label.menu.mainPass
    //-                     li#Shop(style={cursor: 'pointer'} )
    //-                         a(href=`/${lang_path}shop`)= self.label.menu.mainShop
    //-                     li#logOut(style={cursor: 'pointer', display: 'none'} )
    //-                         a(onclick='logOut()')= self.label.menu.mainLogout

    nav.main_menu
        ul.ul_yx

            //- li.user_menu.dropdown
            //-     a= self.label.menu.mainUserMenu
            //-         ul.ul_kaks
            //-             li#logIn(style={cursor: 'pointer', display: 'none'})
            //-                 a(onclick = 'saveUrl()' href=`/${lang_path}login`)= self.label.menu.mainLogin
            //-             li#signUp(style={cursor: 'pointer', display: 'none'})
            //-                 a(onclick = 'saveUrl()' href=`/${lang_path}signup`)= self.label.menu.mainSignup
            //-             li#logInName.dark_1(style={display: 'none'})
            //-                 a#tervitus(onclick = 'loadUserProfileH()')= self.label.menu.mainGreeting
            //-             li#userProfile(style={cursor: 'pointer', display: 'none'})
            //-                 a(onclick = 'loadUserProfileH(), saveUrl()', href=`/${lang_path}userprofile`)= self.label.menu.mainProfile
            //-             li#myFavouriteFilms(style={cursor: 'pointer'})
            //-                 a(href=`/${lang_path}favourite` onclick = 'loadFavouriteFilms()')= self.label.menu.mainShortlist
            //-             li#myPasses(style={cursor: 'pointer'} )
            //-                 a(href=`/${lang_path}minupoff`)= self.label.menu.mainPass
            //-             li#Shop(style={cursor: 'pointer'} )
            //-                 a(href=`/${lang_path}shop`)= self.label.menu.mainShop
            //-             li#logOut(style={cursor: 'pointer', display: 'none'} )
            //-                 a(onclick='logOut()')= self.label.menu.mainLogout

            li
                nav.lang_menu
                    //- | prefiks&nbsp;
                    //- .clr_primary= self.label.film.languageSelect + 'rr'
                    each p, locale in self.otherLocalePaths
                        //- span.clr_white_semi= self.label.film.languageSelect + ':  '
                        //- if self.publish && (self[`publish_${locale}`] === false)
                        //-     p= '<' + self.path.split('/').includes('article') + ' - ' + self.publish + '-' + p + '>'
                        //- a(href=(p !== '/' ? p + '/' : '/'))= locale

                        a(href=(p !== '/' ? p + '/' : '/'))= locale

            li
                nav.org_menu
                    span.org_item
                        a(href='https://industry.poff.ee')
                            | Industry@Tallinn
                    span.org_item
                        a(href='https://justfilm.ee')
                            | Just Film
                    span.org_item
                        a(href='https://shorts.poff.ee')
                            | PÖFF Shorts
                    span.org_item
                        a(href='https://kinoff.ee')
                            | Kinoff
                    span.org_item
                        a(href='https://kino.poff.ee')
                            | Kino@PÖFF

            each mainMenuItem in self.menu.sort(function(a, b){ return (a.order > b.order) ? 1 : ((b.order > a.order) ? -1 : 0); })

                //- Kui on peamenüü itemil artikkel:
                if mainMenuItem[articleMenuItemDomain] && mainMenuItem.name && typeof mainMenuItem.name !== 'object'
                    if self.data.articles
                        - let mainMenuArticleFromYAML = self.data.articles.filter( (a) => { return mainMenuItem[articleMenuItemDomain].id === a.id })
                        - let mainArticle = mainMenuArticleFromYAML[0]
                        if mainArticle.article_types && mainArticle.article_types[0] && mainArticle.publish === true && mainArticle.title
                            - var mainArticleTypePath = ''
                            li
                                each artType in mainArticle.article_types
                                    if artType.name.toLowerCase() === 'about'
                                        - mainArticleTypePath = artType.slug
                                    else if artType.name.toLowerCase() === 'interview'
                                        - mainArticleTypePath = artType.slug
                                    else if artType.name.toLowerCase() === 'sponsor_story'
                                        - mainArticleTypePath = artType.slug
                                    else if artType.name.toLowerCase() === 'news'
                                        - mainArticleTypePath = artType.slug
                                    else
                                        - mainArticleTypePath = mainArticle.article_types[0].slug

                                a(href= `/${lang_path}${mainArticleTypePath}/${mainMenuItem[articleMenuItemDomain].slug}`)= mainMenuItem.name

                //- Kui peamenüü itemil pole artiklit ja on vähemalt mõni alammenüü
                else if mainMenuItem.subMenuItem && mainMenuItem.name && typeof mainMenuItem.name !== 'object'
                    li.dropdown
                        a= mainMenuItem.name
                        ul.ul_kaks
                            each subMenuItem in mainMenuItem.subMenuItem.sort(function(a, b){ return (a.order > b.order) ? 1 : ((b.order > a.order) ? -1 : 0); })
                                if subMenuItem[articleMenuItemDomain]
                                    if self.data.articles
                                        - let mainMenuArticleFromYAML = self.data.articles.filter( (a) => { return subMenuItem[articleMenuItemDomain].id === a.id })
                                        - let article = mainMenuArticleFromYAML[0]

                                        if article.article_types && article.article_types[0] && article.publish === true && article.title
                                            - var articleTypePath = ''
                                            li
                                                each artType in article.article_types
                                                    if artType.name.toLowerCase() === 'about'
                                                        - articleTypePath = artType.slug
                                                    else if artType.name.toLowerCase() === 'interview'
                                                        - articleTypePath = artType.slug
                                                    else if artType.name.toLowerCase() === 'sponsor_story'
                                                        - articleTypePath = artType.slug
                                                    else if artType.name.toLowerCase() === 'news'
                                                        - articleTypePath = artType.slug
                                                    else
                                                        - articleTypePath = article.article_types[0].slug

                                                a(href= `/${lang_path}${articleTypePath}/${subMenuItem[articleMenuItemDomain].slug}`)= subMenuItem.name

                                else
                                    if subMenuItem.customUrl && subMenuItem.name && typeof subMenuItem.name !== 'object'
                                        li
                                            a(href= `/${lang_path}${subMenuItem.customUrl}/`)= `${subMenuItem.name}`

                //- Kui peamenüü itemil pole artiklit, pole alammenüüsid ja on customUrl
                else
                    if mainMenuItem.customUrl && mainMenuItem.name && typeof mainMenuItem.name !== 'object'
                        li
                            a(href= `/${lang_path}${mainMenuItem.customUrl}/`)= `${mainMenuItem.name}`

            li.user_menu.dropdown
                a= self.label.menu.mainUserMenu
                    ul.ul_kaks
                        li#logIn(style={cursor: 'pointer', display: 'none'})
                            a(onclick = 'saveUrl()' href=`/${lang_path}login`)= self.label.menu.mainLogin
                        li#signUp(style={cursor: 'pointer', display: 'none'})
                            a(onclick = 'saveUrl()' href=`/${lang_path}signup`)= self.label.menu.mainSignup
                        li#logInName.dark_1(style={display: 'none'})
                            a#tervitus(onclick = 'loadUserProfileH()')= self.label.menu.mainGreeting
                        li#userProfile(style={cursor: 'pointer', display: 'none'})
                            a(onclick = 'loadUserProfileH(), saveUrl()', href=`/${lang_path}userprofile`)= self.label.menu.mainProfile
                        li#myFavouriteFilms(style={cursor: 'pointer'})
                            a(href=`/${lang_path}favourite` onclick = 'loadFavouriteFilms()')= self.label.menu.mainShortlist
                        li#myPasses(style={cursor: 'pointer'} )
                            a(href=`/${lang_path}minupoff`)= self.label.menu.mainPass
                        //- li#Shop(style={cursor: 'pointer'} )
                        //-     a(href=`/${lang_path}shop`)= self.label.menu.mainShop
                        li#logOut(style={cursor: 'pointer', display: 'none'} )
                            a(onclick='logOut()')= self.label.menu.mainLogout


    label.main_menu_toggle_label(for='main_menu_toggle')
        span

    script.
        var langpath = "!{(lang_path)}"



