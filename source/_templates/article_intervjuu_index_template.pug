extends /_templates/layout.pug
include /_templates/mixins.pug



block content

    - var articlePics = self.data.pictures.articles
    - var splitSelfPath = self.path.split("/")[self.path.split("/").length-1]
    - var articlePic = articlePics[splitSelfPath]

    +tabname self.title

    section.grid_article
        section.article_hero_head
            if self.media && self.media.image && self.media.image[0]
                img(src=`/assets/img/img_articles/${self.locale}/${self.slug}/${self.media.image[0].hash}${self.media.image[0].ext}`).article_hero_image
            else if self.media && self.media.imageDefault && self.media.imageDefault[0]
                img(src=`/assets/img/img_articles/${self.locale}/${self.slug}/${self.media.imageDefault[0].hash}${self.media.imageDefault[0].ext}`).article_hero_image
            else
                img(src='/assets/img/global/placeholder_hd_1.jpg').article_hero_image
        if self.title
            .article_hero_headline_box
                .article_title_detailed= self.title + '!!! INTERVJUU !!!'

    section.grid_article
        section.article_meta
            .str_info_meta_gi
                    if self.publishSettings && self.publishSettings[0].article_types[0]
                        .str_info_meta_item
                            .str_info_meta_value= self.publishSettings[0].article_types[0].name
                    if self.created_by.firstname
                        .str_info_meta_item
                            .str_info_meta_value= `${self.created_by.firstname} ${self.created_by.lastname}`
                    if self.publishFrom
                        .str_info_meta_item
                            //- .str_info_meta_value= self.kuupÃ¤ev + '  ' + self.kell
                            .str_info_meta_value
                                +localdatetime(self.publishFrom)

                    .str_info_meta_item
                        - var tagsList = []
                        if self.tag_premiere_types
                            - self.tag_premiere_types.forEach(element => tagsList.push(element));
                        if self.tag_programmes
                            - self.tag_programmes.forEach(element => tagsList.push(element));
                        if self.tag_genres
                            - self.tag_genres.forEach(element => tagsList.push(element));
                        if self.tag_keywords
                            - self.tag_keywords.forEach(element => tagsList.push(element));

                        if tagsList.length > 0
                            .str_info_meta_keywords= '#' + tagsList.join(' #')


        section.article_contents
            if self.lead
                p.font_weight_600= self.lead
            //- p= self.articleContents_et
            if typeof(self.contents) !== 'object'
                +format(self.contents)


        section.article_extra
